import{j as i}from"./index-CM8xp5W3.js";import{R as c}from"./react-vendor-C7qxa2PD.js";import{g as f,R as m,s as g}from"./index-ucXmJ9nZ.js";import{s as u}from"./driver-ldxPtC2B.js";import"./monaco-editor-DFCLNRsn.js";import"./antd-DPo7ARJh.js";import"./ahooks-CSAi6c6A.js";import"./lodash-es-CdGItEyc.js";import"./driver.js-P8JfiGj7.js";function b(e,t=!0){var a,r,s;e.startsWith("/")||(e=`/${e}`);const o=`${window.location.origin}${window.location.pathname}#${e}`;if(!t){window.open(o);return}const n=window.open(o,e);try{((a=n==null?void 0:n.location)==null?void 0:a.href)===o?(s=(r=n==null?void 0:n.location)==null?void 0:r.reload)==null||s.call(r):console.warn("page url changed.")}catch{console.warn("page url changed.")}}function w(e=window.location.href||""){const t={};return e.slice(e.indexOf("?")+1).split("&").forEach(n=>{const[a,r]=n.split("=");a&&(t[a]=r)}),t}async function l(e){const t=await f(`./example/${e}.json`);return t.startsWith("<!DOCTYPE html>")?"":t}const d="_beianFooter_1lbvb_59",h="_beianFooter_beian_1lbvb_70",p={beianFooter:d,beianFooter_beian:h};function v(){return i.jsxs("div",{className:p.beianFooter,children:[i.jsxs("div",{className:p.beianFooter_beian,children:[i.jsx("img",{src:"/beian.png"}),i.jsx("a",{href:"https://beian.mps.gov.cn/#/query/webSearch?code=33010602013871",rel:"noreferrer",target:"_blank",children:"浙公网安备33010602013871号"})]}),i.jsx("a",{href:"https://beian.miit.gov.cn",target:"_blank",rel:"noreferrer",children:"浙ICP备2024117433号-2"})]})}async function x(){const{example:e}=w();return e?l(e):localStorage.getItem("json")||await l("classic")}function $(){const e=c.useRef(null);return c.useEffect(()=>{const t=new m({pageFooter:v});return t.mount(e.current).then(async()=>{u();const o=await x();await t.importJSONString(o)}),t.on("startPreview",async o=>{const n=await o.getJSON();g(n),b("/preview")}),()=>{t.destroy()}},[]),i.jsx("div",{ref:e,style:{width:"100vw",height:"100vh",overflow:"hidden"}})}export{$ as default};
