import{j as d}from"./index-CM8xp5W3.js";import{w as u}from"./index-ucXmJ9nZ.js";import{r as v}from"./react-vendor-C7qxa2PD.js";import{u as h,s as m}from"./selectPage-CK-ACE0F.js";import{u as f}from"./hotkeys.esm-C5d8raBv.js";import{c as I}from"./antd-DPo7ARJh.js";import"./ahooks-CSAi6c6A.js";import"./monaco-editor-DFCLNRsn.js";import"./lodash-es-CdGItEyc.js";const x="_navLine_mnnlz_59",L="_navLine_inner_mnnlz_64",j="_navItem_mnnlz_68",S="_navItem_selected_mnnlz_89",z="_navItem_last_mnnlz_92",o={navLine:x,navLine_inner:L,navItem:j,navItem_selected:S,navItem_last:z};function _(t){const{list:s,selectedKeys:c}=t,n=c.length<=1;let e;const i=d.jsx("div",{className:o.navLine_inner,children:s.map(l=>{const a=l.value===c[0];return a&&(e=l==null?void 0:l.children),d.jsx("div",{className:I(o.navItem,a&&n&&o.navItem_selected,a&&n&&o.navItem_last),onClick:()=>{var r;(r=t==null?void 0:t.onSelect)==null||r.call(t,l==null?void 0:l.value)},children:l==null?void 0:l.label},l==null?void 0:l.value)})});return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:o.navLine,children:i}),!!(e!=null&&e.length)&&d.jsx(_,{list:e,selectedKeys:c.slice(1),onSelect:t==null?void 0:t.onSelect})]})}function C(t,s){const c=[];let n=s[t];for(;n;)c.push(n==null?void 0:n.value),n=n!=null&&n.parent?s[n==null?void 0:n.parent]:void 0;return c.reverse()}function b(t,s={}){const c=[];return t.forEach(n=>{var l,a,r;const e=s[n.id],i=s[n.id]={value:(e==null?void 0:e.value)||n.id,label:(e==null?void 0:e.label)||n.name,parent:(e==null?void 0:e.parent)||(n==null?void 0:n.parentId),children:(e==null?void 0:e.children)||[]};if(n!=null&&n.parentId){(r=(a=(s[l=n.parentId]||(s[l]={value:n.parentId,parent:"",label:"",children:[]})).children)==null?void 0:a.push)==null||r.call(a,i);return}c.push(i)}),{tree:c,treeMap:s}}const q=u(t=>{const s=h(),c=f(),{tree:n,treeMap:e}=v.useMemo(()=>b(s),[s]),i=v.useMemo(()=>C(c,e),[c,e]),l=v.useMemo(()=>i.length?d.jsx(_,{list:n,selectedKeys:i,onSelect:a=>{a!==c&&m(a)}}):null,[i,n]);return d.jsx("div",{style:{width:t==null?void 0:t.width,height:t==null?void 0:t.height},children:l})});export{q as default};
