import{j as v}from"./index-CM8xp5W3.js";import{w as C}from"./index-ucXmJ9nZ.js";import"./react-vendor-C7qxa2PD.js";import{k as S}from"./ahooks-CSAi6c6A.js";import{_ as i}from"./monaco-editor-DFCLNRsn.js";import{R as g}from"./index-ClvBYgIX.js";import{DEFAULT_OPTIONS as _}from"./attributes-DGIp6DKf.js";import"./antd-DPo7ARJh.js";import"./lodash-es-CdGItEyc.js";import"./echarts-rKE63_Pt.js";import"./useResizeDom--g2n-OkL.js";import"./useListenRef-BncaX_Rk.js";const u="chinaOutline";async function p(){var t,o;let r;try{r=await fetch("https://file.geojson.cn/china/1.6.2/china.json").then(e=>e.json())}catch{r=(t=await i(async()=>{const{default:e}=await import("./china-D3Q-rLkY.js");return{default:e}},[],import.meta.url))==null?void 0:t.default}if((o=r==null?void 0:r.features)!=null&&o.length){const e=await i(()=>import("./china-ten-DQF7g-FU.js"),[],import.meta.url);r.features.push(e==null?void 0:e.default)}return r}async function O(){if(!window.echarts){console.error("echarts not found.");return}if(window.echarts.getMap(u))return;const r=await p();window.echarts.registerMap(u,r)}const z="path://M1705.06,1318.313v-89.254l-319.9-221.799l0.073-208.063c0.521-84.662-26.629-121.796-63.961-121.491c-37.332-0.305-64.482,36.829-63.961,121.491l0.073,208.063l-319.9,221.799v89.254l330.343-157.288l12.238,241.308l-134.449,92.931l0.531,42.034l175.125-42.917l175.125,42.917l0.531-42.034l-134.449-92.931l12.238-241.308L1705.06,1318.313z",c=[{name:"北京",coords:[116,39],value:83},{name:"广东",coords:[115,22],value:22},{name:"西藏",coords:[91,29],value:45},{name:"云南",coords:[102,25],value:108},{name:"广西",coords:[108,22],value:230},{name:"新疆",coords:[87,43],value:67}],$=c.reduce((r,t)=>(r[t.name]=t.value,r),{}),L=c[0].coords,d=c.slice(1).map(r=>({coords:[L,r.coords],tooltip:{formatter:()=>`${r==null?void 0:r.name}：${(r==null?void 0:r.value)||0}个`}})),E=c.map(r=>({name:r==null?void 0:r.name,value:[...r.coords,r.value],tooltip:{formatter:()=>`${r==null?void 0:r.name}：${(r==null?void 0:r.value)||0}个`}})),l="#00ffe4",f=.2,h=5;function P(){return[{type:"lines",zlevel:3,coordinateSystem:"geo",effect:{show:!0,period:h,trailLength:.7,symbolSize:3,color:l},lineStyle:{width:0,curveness:f},data:d},{type:"lines",zlevel:2,symbol:["none","arrow"],symbolSize:10,effect:{show:!0,period:h,trailLength:0,symbol:z,symbolSize:15,color:l},lineStyle:{color:l,curveness:f,width:1,opacity:.2},data:d},{zlevel:1,type:"effectScatter",coordinateSystem:"geo",data:E,symbolSize:10,encode:{value:2},rippleEffect:{brushType:"stroke",number:2,color:l},emphasis:{scale:!1},itemStyle:{shadowBlur:10,shadowColor:l,color:l}}]}const G=C(r=>{const{width:t,height:o,options:e}=r,{data:y}=S(async()=>{await O();function s(w={},m){return{type:"map",name:"中国地图",map:u,selectedMode:"single",label:{show:e==null?void 0:e.showLabel,color:(e==null?void 0:e.color)||"#fff"},layoutSize:`${120+(e==null?void 0:e.scale)}%`,itemStyle:{areaColor:(e==null?void 0:e.areaColor)||"transparent",borderColor:(e==null?void 0:e.outlineColor)||"#23c2fb",borderWidth:(e==null?void 0:e.borderWidth)||1},emphasis:{disabled:m,label:{color:"whitesmoke"},itemStyle:{areaColor:(e==null?void 0:e.mapHoverColor)||"rgba(16,43,128,0.9)"}},...m?{}:{tooltip:{formatter(a){const b=$[a==null?void 0:a.name]||0;return`${(a==null?void 0:a.name)||""}: ${b}个`}}},select:{disabled:m,label:{color:"#fff"},itemStyle:{areaColor:(e==null?void 0:e.mapSelectedColor)||"rgba(16,43,128,1)"}},...w}}let n=999;return{tooltip:{trigger:"item"},geo:[s({layoutCenter:[`${50+(e==null?void 0:e.centerX)}%`,`${62+(e==null?void 0:e.centerY)}%`],z:n--}),s({layoutCenter:[`${50+(e==null?void 0:e.centerX)}%`,`${64+(e==null?void 0:e.centerY)}%`],z:n--,silent:!0,itemStyle:{areaColor:"#004b75",borderColor:"#195175",borderWidth:2,shadowColor:"#0f4c74",shadowOffsetX:4,shadowOffsetY:4,shadowBlur:10}},!0)],series:P()}},{refreshDeps:[e==null?void 0:e.centerX,e==null?void 0:e.centerY,e==null?void 0:e.scale,e==null?void 0:e.showLabel,e==null?void 0:e.areaColor,e==null?void 0:e.mapHoverColor,e==null?void 0:e.mapSelectedColor,e==null?void 0:e.outlineColor,e==null?void 0:e.borderWidth,e==null?void 0:e.color]});return v.jsx(g,{shouldClear:!0,options:y,style:{width:t,height:o,overflow:"hidden",background:e==null?void 0:e.bgColor}})},_);export{G as default};
